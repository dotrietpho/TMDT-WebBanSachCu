@model ReBook.App_Data.HoaDon

@{
    ViewBag.Title = "Đổi trạng thái";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}

<div class="container-fluid mt-5">

    <!-- Heading -->
    <div class="card mb-4 wow fadeIn">

        <!--Card content-->
        <div class="card-body d-sm-flex justify-content-between">

            <h4 class="mb-2 mb-sm-0 pt-1">
                <a href="@Url.Action("Index", "HoaDon")"><i class="fas fa-home"></i></a>
                <span>/</span>
                <a href="@Url.Action("Index", "HoaDon")">Quản lý Hoá đơn</a>
                <span>/</span>
                <span>@ViewBag.Title</span>
            </h4>
        </div>
    </div>
    <!-- Heading -->

    <div class="col-md-8 offset-2">
        <form class="border border-light p-5" method="post" enctype="multipart/form-data">

            <p class="h4 mb-4 text-center">@ViewBag.Title</p>

            @Html.ValidationSummary(true, "", new { @class = "text-danger" })
            @Html.HiddenFor(model => model.id)

            <label for="TinhTrang">Tình trạng:</label>
            @Html.EditorFor(model => model.TinhTrang, new { htmlAttributes = new { @id = "TinhTrang", @name = "TinhTrang", @class = "form-control mb-4", @disabled = true } })
            @Html.ValidationMessageFor(model => model.TinhTrang, "", new { @class = "text-danger" })

            <label for="idKhachHang">Khách hàng:</label>
            @Html.EditorFor(model => model.idKhachHang, new { @id = "idKhachHang", @name = "idKhachHang", @class = "form-control mb-4", @disabled = true })
            @Html.ValidationMessageFor(model => model.idKhachHang, "", new { @class = "text-danger" })

            <label for="SDTGiaoHang">Số điện thoại:</label>
            @Html.EditorFor(model => model.SDTGiaoHang, new { htmlAttributes = new { @id = "SDTGiaoHang", @name = "SDTGiaoHang", @class = "form-control mb-4", @disabled = true } })
            @Html.ValidationMessageFor(model => model.SDTGiaoHang, "", new { @class = "text-danger" })

            <label for="DiaChiGiaoHang">Địa chỉ giao hàng:</label>
            @Html.EditorFor(model => model.DiaChiGiaoHang, new { htmlAttributes = new { @id = "DiaChiGiaoHang", @name = "DiaChiGiaoHang", @class = "form-control mb-4", @disabled = true } })
            @Html.ValidationMessageFor(model => model.DiaChiGiaoHang, "", new { @class = "text-danger" })

            <label for="NgayLapHD">Ngày lập đơn hàng:</label>
            @Html.EditorFor(model => model.NgayLapHD, new { htmlAttributes = new { @id = "NgayLapHD", @name = "NgayLapHD", @class = "form-control mb-4", @disabled = true } })
            @Html.ValidationMessageFor(model => model.NgayLapHD, "", new { @class = "text-danger" })

            <label for="NgayHenGiaoHang">Ngày hẹn giao hàng:</label>
            @Html.EditorFor(model => model.NgayHenGiaoHang, new { htmlAttributes = new { @id = "NgayHenGiaoHang", @name = "NgayHenGiaoHang", @class = "form-control mb-4", @disabled = true } })
            @Html.ValidationMessageFor(model => model.NgayHenGiaoHang, "", new { @class = "text-danger" })

            <label for="GhiChu">Ghi chú:</label>
            @Html.EditorFor(model => model.GhiChu, new { htmlAttributes = new { @id = "GhiChu", @name = "GhiChu", @class = "form-control mb-4", @disabled = true } })
            @Html.ValidationMessageFor(model => model.GhiChu, "", new { @class = "text-danger" })

            <table class="table table-hover">
                <!-- Table head -->
                <thead class="blue-grey lighten-4">
                    <tr>
                        <th>Tên sách</th>
                        <th>Giá</th>
                        <th>Hình ảnh</th>
                        <th>Số lượng</th>
                    </tr>
                </thead>
                <!-- Table head -->
                <!-- Table body -->
                <tbody>
                    @foreach (var book in ViewBag.ListBook)
                    {
                    <tr>
                        <td>@book.TenSach</td>
                        <td>@book.GiaSach</td>
                        <td><img src="~/UploadedFiles/@book.HinhSach" width="75" height="115"></td>
                        <td>@book.SoLuong</td>
                    </tr>
                    }
                    <!-- Table body -->
                    <tr>
                        <td colspan="4" style="text-align:right">Tổng Giá: @ViewBag.TongGia VND</td>
                    </tr>
            </table>

            <button class="btn btn-primary" type="submit" value="Edit" id="create-btn">Đổi trạng thái</button>
            <a class="btn btn-secondary" href="@Url.Action("Index", "HoaDon")" id="btn-cancel">Trở về</a>

            <div class="warning-text">@ViewBag.Messenge</div>
        </form>
    </div>
</div>